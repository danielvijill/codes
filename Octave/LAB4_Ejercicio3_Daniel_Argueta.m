% LABORATORIO 4
% EJERCICIO 3

%==============================================================================

% Building all of the convolutions

%==============================================================================
%dt = 1
t1 = [-2:1:2];
x1 = escalondt(-1,-2,2,1)-escalondt(1+1,-2,2,1);
h1 = x1;

subplot(2,3,1);
plot(t1,x1);
xlim([-1,1]);
ylim([[0,2]])
title("x(t)");

[y1,n1] = convdt(x1,t1,h1,t1,1);
subplot(2,3,2);
plot(n1,y1,".-");
title("dt = 1");

%==============================================================================
%dt = 1/4
t2 = [-2:1/4:2];
x2 = escalondt(-1,-2,2,1/4)-escalondt(1+1/4,-2,2,1/4);
h2 = x2;

[y2,n2] = convdt(x2,t2,h2,t2,1/4);
subplot(2,3,3);
plot(n2,y2,".-");
title("dt = 1/4");

%==============================================================================
%dt = 1/8
t3 = [-2:1/8:2];
x3 = escalondt(-1,-2,2,1/8)-escalondt(1+1/8,-2,2,1/8);
h3 = x3;

[y3,n3] = convdt(x3,t3,h3,t3,1/8);
subplot(2,3,4);
plot(n3,y3,".-");
title("dt = 1/8");

%==============================================================================
%dt = 1/8
t3 = [-2:1/8:2];
x3 = escalondt(-1,-2,2,1/8)-escalondt(1+1/8,-2,2,1/8);
h3 = x3;

[y3,n3] = convdt(x3,t3,h3,t3,1/8);
subplot(2,3,5);
plot(n3,y3,".-");
title("dt = 1/8");

%==============================================================================
%dt = 1/32
t4 = [-2:1/32:2];
x4 = escalondt(-1,-2,2,1/32)-escalondt(1+1/32,-2,2,1/32);
h4 = x4;

[y4,n4] = convdt(x4,t4,h4,t4,1/32);
subplot(2,3,6);
plot(n4,y4,".-");
title("dt = 1/32");

%==============================================================================
%dt = 1/64
t5 = [-2:1/64:2];
x5 = escalondt(-1,-2,2,1/64)-escalondt(1+1/64,-2,2,1/64);
h5 = x5;

[y5,n5] = convdt(x5,t5,h5,t5,1/64);
subplot(2,3,6);
plot(n5,y5,".-");
title("dt = 1/64");